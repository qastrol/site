:root {
    /* Light mode kleuren */
    --background-color: #ffffff;
    --text-color: #000000;
    --nav-background-color: #4CAF50;
    --nav-text-color: #ffffff;
    --table-background-color: #ffffff;
    --table-text-color: #000000;
    --table-border-color: #dddddd;
    --table-header-background-color: #4CAF50;
    --button-background-color: #008CBA;
    --button-text-color: #ffffff;
    --button-hover-background-color: #005f73;
    /* additional UI tokens */
    --muted-text-color: rgba(0,0,0,0.7);
    --sidebar-background: rgba(0,0,0,0.03);
    --filter-background: rgba(255,255,255,0.6);
    --card-background: var(--table-background-color);
    --input-background: #ffffff;
    --input-text-color: #000000;
}

/* Use border-box everywhere to avoid unexpected width calculations that cause overflow */
*, *::before, *::after {
    box-sizing: border-box;
}

/* Dark mode kleuren */
[data-theme="dark"] {
    --background-color: #121212;
    --text-color: #ffffff;
    --nav-background-color: #333333;
    --nav-text-color: #ffffff;
    --table-background-color: #333333;
    --table-text-color: #dddddd;
    --table-border-color: #444444;
    --table-header-background-color: #444444;
    --button-background-color: #555555;
    --button-text-color: #ffffff;
    --button-hover-background-color: #777777;
    /* dark-mode specific UI tokens */
    --muted-text-color: rgba(255,255,255,0.72);
    --sidebar-background: #1b1b1b;
    --filter-background: rgba(255,255,255,0.03);
    --card-background: #222222;
    --input-background: #2a2a2a;
    --input-text-color: #eaeaea;
}

/* Algemene styling voor body en tekst */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    background-color: var(--background-color);
    color: var(--text-color);
    max-width: 1800px;
    width: 100%;
    box-sizing: border-box;
}

.content {
    padding: 0 5%;
}

/* Media query voor grotere schermen (vanaf 1024px en breder) */
@media (min-width: 1024px) {
    body {
        padding: 0 10%; /* Verhoog de padding naar 10% voor grotere schermen */
    }
}

/* Media query voor schermen tussen 768px en 1024px */
@media (max-width: 1024px) and (min-width: 768px) {
    body {
        padding: 0 7%; /* Verminder de padding voor schermen tussen 768px en 1024px */
    }
}

/* Verberg standaard het menu op mobiele schermen */
@media (max-width: 768px) {
    /* keep positioning flexible: top is set dynamically from JS so we don't hard-code offsets */
    nav ul {
        display: none;
        flex-direction: column;
        background-color: var(--nav-background-color);
        position: absolute;
        top: auto; /* allow JS to set header-height so menu appears directly under header */
        left: 0;
        right: 0;
        width: 100%;
        z-index: 9999;
        transition: max-height 0.3s ease-in-out, transform 0.18s ease;
        max-height: 0;
        overflow: hidden;
        box-shadow: 0 8px 20px rgba(0,0,0,0.12);
    }

    nav ul.show {
        display: flex;
        max-height: 100vh; /* let it expand as needed */
    }

    /* Make each menu item a full-width, touch-friendly button and ensure
       consistent visual width on mobile. Use flex layout so icons and text
       align predictably and every item fills the container. */
    nav ul li,
    .site-nav ul li { width: 100%; }

    nav ul li a,
    nav ul li button,
    .site-nav ul li a,
    .site-nav ul li button {
        display: flex;
        align-items: center;
        justify-content: flex-start; /* keep text at the left, icons can use margin-left:auto */
        width: 100%;
        padding: 14px 20px;
        font-size: 1.05rem;
        text-align: left;
        color: var(--nav-text-color);
        background: transparent;
        border: none;
        outline: none;
        box-sizing: border-box;
    }

    /* separator between items */
    nav ul li + li { border-top: 1px solid rgba(0,0,0,0.06); }

    nav .hamburger {
        display: block;
        font-size: 1.5em;
        cursor: pointer;
        color: var(--nav-text-color);
        background: none;
        border: none;
        outline: none;
    }
}

/* Verberg de hamburger op grotere schermen */
@media (min-width: 769px) {
    nav .hamburger {
        display: none;
    }
}
/* Styling voor de tabel */
table {
    width: 100%;
    max-width: 1920px;
    margin: 20px auto;
    border-collapse: collapse;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    background-color: var(--table-background-color);
    color: var(--table-text-color);
    border: 1px solid var(--table-border-color);
}

/* Tabel cellen (th, td) */
th, td {
    padding: 15px;
    text-align: left;
    border-bottom: 1px solid var(--table-border-color);
}

/* Stijl voor de klikbare kopjes */
th {
    cursor: pointer;
    background-color: var(--table-header-background-color);
    color: var(--table-text-color);
    font-size: 1.1em;
    padding: 10px;
    text-align: left;
    transition: background-color 0.3s ease, text-decoration 0.3s ease;
}

/* Hover-effect voor de tabel */
tr:hover {
    background-color: rgba(255, 255, 255, 0.1); /* Toevoeging voor dark mode hover effect */
}

th:hover {
    background-color: #45a049;
    text-decoration: underline;
}

/* Styling voor knoppen */
button {
    background-color: var(--button-background-color);
    color: var(--button-text-color);
    border: none;
    padding: 10px 15px;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s ease;
}

button:hover {
    background-color: var(--button-hover-background-color);
}

/* Site header / navigatie */
.site-header {
    background-color: var(--nav-background-color);
    color: var(--nav-text-color);
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    box-shadow: 0 1px 3px rgba(0,0,0,0.06);
}

.nav-container {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 20px;
    height: 56px;
}

.site-branding .site-title {
    color: var(--nav-text-color);
    text-decoration: none;
    font-weight: 700;
    font-size: 1.35rem;
}

.site-nav ul {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    gap: 18px;
    align-items: center;
}

.site-nav a,
.site-nav button {
    color: var(--nav-text-color);
    text-decoration: none;
    font-size: 1rem;
    padding: 8px 12px;
    background: none;
    border: none;
    cursor: pointer;
}

.site-nav a:hover,
.site-nav button:hover {
    background-color: var(--button-hover-background-color);
    color: var(--button-text-color);
    border-radius: 6px;
}

/* Hamburger button (hidden on large screens) */
.hamburger {
    display: none;
    width: 40px;
    height: 40px;
    background: none;
    border: none;
    cursor: pointer;
    padding: 6px;
}

.hamburger span {
    display: block;
    height: 3px;
    background: var(--nav-text-color);
    margin: 5px 0;
    border-radius: 2px;
    width: 24px;
    transition: transform 0.2s ease, opacity 0.2s ease;
}

/* Mobile: stack nav under header and show hamburger (enhanced) */
@media (max-width: 768px) {
    .nav-container { padding: 0 12px; }
    /* do not hard-code top here; JS computes header height and sets inline style */
    .site-nav ul {
        display: none;
        position: absolute;
        top: auto;
        left: 0;
        right: 0;
        background-color: var(--nav-background-color);
        flex-direction: column;
        gap: 0;
        padding: 0;
        z-index: 10000;
        box-shadow: 0 8px 20px rgba(0,0,0,0.12);
    }
    .site-nav ul.show { display: flex; max-height: 100vh; overflow: auto; }
    .site-nav li { padding: 0; }
    .site-nav ul li a,
    .site-nav ul li button {
        display: flex;
        align-items: center;
        justify-content: flex-start;
        width: 100%;
        padding: 14px 20px;
        font-size: 1.05rem;
        box-sizing: border-box;
    }
    .hamburger { display: block; }
}

/* Mobile-only filter open button (placed under the sort control) */
.mobile-filter-open {
    display: none; /* default hidden on desktop */
    background: var(--button-background-color);
    color: var(--button-text-color);
    border: none;
    padding: 10px 12px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 700;
}

@media (max-width: 900px) {
    .mobile-filter-open { display: block; width: 100%; margin-top: 8px; }
}

/* On small screens hide the sidebar's internal 'Filters' toggle/title to avoid
   duplicate labels — the mobile open button (under sort) and the overlay header
   provide the single 'Filters' control/heading. */
@media (max-width: 900px) {
    .sidebar.filter-panel .filter-toggle,
    .sidebar.filter-panel .filter-title {
        display: none;
    }
}

/* Fullscreen mobile filter overlay */
#mobileFilterOverlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.6);
    display: none;
    z-index: 20000;
    align-items: stretch;
    justify-content: center;
}

#mobileFilterOverlay.open { display: flex; }

#mobileFilterOverlay .overlay-panel {
    background: var(--background-color);
    color: var(--text-color);
    width: 100%;
    max-width: 1000px;
    height: 100%;
    overflow: auto;
    padding: 16px;
    box-sizing: border-box;
}

/* Overlay footer / apply button styling */
#mobileFilterOverlay .overlay-footer {
    border-top: 1px solid var(--table-border-color);
    padding: 12px 16px;
    display: flex;
    justify-content: center;
    background: linear-gradient(to top, rgba(0,0,0,0.02), transparent);
    position: sticky;
    bottom: 0;
    z-index: 3;
}

#mobileFilterOverlay .overlay-apply {
    width: 100%;
    max-width: 560px;
    padding: 10px 14px;
    border-radius: 10px;
    border: none;
    background: var(--button-background-color);
    color: var(--button-text-color);
    font-weight: 700;
    cursor: pointer;
}

#mobileFilterOverlay .overlay-apply:active { transform: translateY(1px); }

#mobileFilterOverlay .overlay-header {
    display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:12px;
}

#mobileFilterOverlay .overlay-close {
    background: transparent; border: none; font-size: 1.6rem; cursor: pointer; padding: 6px; color: var(--text-color);
}

/* Ensure page content starts below fixed header */
.content { padding-top: 72px; }

/* Nieuwe two-column layout voor filter sidebar + hoofdinformatie */
.panel-grid {
    display: flex;
    gap: 24px;
    align-items: flex-start;
    margin-top: 20px;
}

.sidebar {
    width: 260px;
    min-width: 200px;
    /* Fix sidebar as a stable column in the two-column layout so it doesn't
       grow or shrink unexpectedly when long labels or counts are added. */
    flex: 0 0 260px; /* do not allow flex to grow/shrink */
    max-width: 320px;
    background: var(--sidebar-background);
    padding: 16px;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.04);
}

/* Maak de sidebar sticky zodat het filtermenu altijd zichtbaar blijft tijdens scrollen.
   Geef een maximale hoogte en enable intern scrollen als de inhoud groter is dan viewport. */
.sidebar {
    position: sticky;
    top: 80px; /* ruimte voor vaste navigatie en header */
    max-height: calc(100vh - 100px);
    overflow: auto;
}

/* Prevent horizontal scrolling inside the sidebar by hiding any accidental overflow
   and ensuring form controls respect the container width. */
.sidebar { overflow-x: hidden; }
.sidebar .filter-group input[type="text"],
.sidebar .filter-group input[type="search"],
.sidebar .filter-group select {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    background: var(--input-background);
    color: var(--input-text-color);
    border: 1px solid var(--table-border-color);
    padding: 8px 10px;
    border-radius: 6px;
}

/* Placeholder color adapts to theme via --muted-text-color */
.sidebar .filter-group input::placeholder,
.sidebar .filter-group input[type="search"]::placeholder {
    color: var(--muted-text-color);
    opacity: 0.85;
}

/* Ensure filter rows don't force the sidebar to grow. Labels and counts
   will truncate with ellipsis when too long. Inputs remain full-width. */
.sidebar .filter-group label {
    display: inline-block;
    max-width: calc(100% - 56px); /* leave room for checkbox + count */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    vertical-align: middle;
}

.sidebar .filter-group .filter-count {
    color: var(--muted-text-color);
    margin-left: 6px;
    flex: 0 0 auto;
}

/* Make sure flexible wrappers inside the sidebar can shrink when needed */
.sidebar .filter-group > div,
.sidebar .filter-group > label,
.sidebar .filter-group > .wrapper {
    min-width: 0;
}

/* Reduce default width slightly for long inputs so they don't push layout on very small screens */
@media (max-width: 420px) {
    .sidebar .filter-group input[type="text"],
    .sidebar .filter-group select {
        max-width: calc(100% - 8px);
    }
}

.main-area {
    flex: 1 1 auto;
    min-width: 0; /* zorgt dat de tabel niet breekt buiten container */
}

.sidebar h3 {
    margin-top: 0;
    margin-bottom: 8px;
    font-size: 1.05em;
}

.filter-group {
    margin-bottom: 12px;
}

.filter-group label {
    display: block;
    margin-bottom: 6px;
    font-weight: 600;
}

.category-list {
    max-height: 260px;
    overflow: auto;
    padding: 6px;
    border-radius: 6px;
    background: var(--filter-background);
}

/* Responsive: op small screens stapelen we de sidebar boven de inhoud */
@media (max-width: 900px) {
    .panel-grid {
        flex-direction: column;
    }

    .sidebar {
        width: 100%;
        /* Op kleine schermen niet sticky - we stapelen boven de inhoud */
        position: static;
        max-height: none;
        overflow: visible;
    }

     /* Reduce horizontal padding so redeem items fit exactly on small screens
         and minimize unnecessary white space on left and right.
         Remove left padding entirely so redeem rectangles sit flush to the
         left edge of the viewport on mobile as requested. */
     .content { padding: 4px 6px 4px 0; }

    /* Ensure item-list rows don't add extra horizontal margins and have
       smaller internal padding on mobile to avoid overflow while keeping
       touch targets comfortable. */
    .item-listing { margin: 12px 0; }
    .item-listing__item {
        /* slightly reduce horizontal padding so the overall card width is smaller */
        padding: 10px 6px;
        margin-left: 0;
        margin-right: 0;
        border-radius: 6px;
        box-sizing: border-box;
        width: 100%;
        max-width: 100%;
        overflow: hidden;
    }

    /* Reduce gaps within the main listing area to further avoid horizontal growth */
    .item-listing__main { gap: 8px; }
}

/* Preview modal styles */
.preview-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
}
.preview-modal {
    background: var(--background-color);
    color: var(--text-color);
    width: 90%;
    max-width: 720px;
    border-radius: 8px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.3);
    padding: 16px;
}
.preview-header {
    display:flex;
    justify-content: space-between;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
}
.preview-body { text-align: center; }
.preview-body img, .preview-body video { max-width: 100%; height: auto; border-radius:6px; }
.preview-body audio, .preview-body video { width: 100%; }
.preview-controls { margin-top: 10px; display:flex; gap:8px; justify-content:center; }
.preview-close { background: transparent; border: none; font-size: 1.2em; cursor: pointer; color: var(--text-color); }
.preview-copy { background: var(--button-background-color); color: var(--button-text-color); border:none; padding:8px 12px; border-radius:6px; cursor:pointer; }
.preview-notfound { color: #888; padding: 24px 0; }

/* Visual cue for items that have a preview available */
.has-preview {
    color: #0a58ca; /* link blue */
    text-decoration: underline;
    cursor: pointer;
}
.has-preview:hover {
    color: #084298;
}

/* Filter panel responsive/collapse styles */
.filter-toggle {
    display: none; /* hidden on desktop by default */
    width: 100%;
    text-align: left;
    padding: 10px 12px;
    margin-bottom: 8px;
    background: var(--button-background-color);
    color: var(--button-text-color);
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
}

details.filter-option {
    margin-bottom: 10px;
}

details.filter-option > summary {
    cursor: pointer;
    font-weight: 700;
    padding: 8px 6px;
    list-style: none;
    outline: none;
}

details.filter-option[open] > summary::after {
    content: "▲";
    float: right;
}

details.filter-option:not([open]) > summary::after {
    content: "▼";
    float: right;
}

/* When the panel is collapsed (mobile), hide the sidebar content except the toggle */
.filter-panel.collapsed {
    display: none;
}

/* On small screens, show the filter toggle and make the panel collapsible */
@media (max-width: 900px) {
    .filter-toggle { display: block; }
    .panel-grid { gap: 12px; }
    /* The sidebar will be toggled by JS; when visible ensure full width */
    .sidebar.filter-panel { width: 100%; position: static; max-height: none; overflow: visible; }
}

/* On large screens ensure the toggle is hidden and the panel always visible */
@media (min-width: 901px) {
    .filter-panel { display: block !important; }
}

/* New responsive item-listing (card-like rows that behave like table rows)
   Each <li> is full width inside the main content area and can grow in height
   depending on content. On wider screens the meta/actions are aligned to the right.
*/
.item-listing {
    list-style: none;
    margin: 20px 0;
    padding: 0;
    display: block;
}
.item-listing__item {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 12px;
    border: 1px solid var(--table-border-color);
    border-radius: 8px;
    background: var(--table-background-color);
    margin-bottom: 10px;
}
.item-listing__main {
    display: flex;
    gap: 12px;
    align-items: flex-start;
}

/* Header / legend that lines up with item columns */
.item-listing__header {
    display: flex;
    gap: 12px;
    align-items: center;
    padding: 8px 12px;
    color: var(--table-text-color);
    font-weight: 700;
    border-bottom: 1px solid var(--table-border-color);
    margin-bottom: 8px;
    background: transparent;
}
.item-listing__header .header-left { flex: 1 1 auto; min-width: 0; }
.item-listing__header .header-meta { flex-shrink: 0; display:flex; gap:12px; align-items:center; }

/* Hide the legend on very small screens where items stack and labels are obvious */
@media (max-width: 640px) {
    .item-listing__header { display: none; }
}

/* Header buttons used as sortable column labels */
.item-listing__header .header-btn {
    background: transparent;
    border: none;
    color: var(--table-text-color);
    font-weight: 700;
    cursor: pointer;
    padding: 4px 6px;
    border-radius: 4px;
}
.item-listing__header .header-btn:hover,
.item-listing__header .header-btn:focus {
    text-decoration: underline;
    outline: none;
}

.item-listing__header .header-sub { color: rgba(0,0,0,0.65); font-weight:400; margin-left:8px; }
.item-listing__left {
    flex: 1 1 auto;
    min-width: 0;
}
.item-name {
    font-weight: 700;
    font-size: 1.00rem; /* slightly smaller for a subtler look */
    margin-bottom: 6px;
}
.item-desc { color: var(--muted-text-color); font-size: 0.95rem; }

/* Subtle languages / AI info segment placed between name and description */
.item-langs {
    font-size: 0.86rem;
    color: var(--muted-text-color);
    margin-bottom: 6px;
    font-style: normal;
}
.item-meta {
    display: flex;
    gap: 8px;
    align-items: center;
    flex-shrink: 0;
    margin-top: 6px;
}
.item-code { font-family: monospace; background: rgba(0,0,0,0.03); padding: 4px 6px; border-radius:4px; }
.item-code-inline { display: none; font-family: monospace; background: rgba(0,0,0,0.03); padding: 4px 6px; border-radius:4px; margin-bottom:6px; }
.item-actions { display:flex; gap:8px; }

@media(min-width:900px) {
    .item-listing__item { flex-direction: row; align-items: center; }
    .item-listing__main { flex: 1 1 auto; }
    .item-meta { margin-top: 0; }
    /* Hide inline code on desktop and ensure meta code is visible */
    .item-code-inline { display: none; }
    .item-meta .item-code { display: block; }
}

/* On small screens show the inline code under the name and hide the meta code */
@media (max-width: 899px) {
    .item-code-inline { display: block; }
    .item-meta .item-code { display: none; }
}

/* Mobile layout for redeem code + copy button */
@media (max-width: 899px) {
    .mobile-code-row { display: flex; align-items: flex-start; justify-content: space-between; gap: 8px; margin-bottom:6px; }
    .mobile-code-left { display: flex; gap: 8px; align-items: center; flex: 1 1 auto; min-width: 0; }
    .mobile-code-label { font-weight: 600; font-size: 0.9rem; color: rgba(0,0,0,0.7); white-space:nowrap; }
    /* Reserve slightly less space to the right of the code so the whole card can be narrower */
    .mobile-code-left .item-code-inline { flex: 1 1 auto; max-width: calc(100% - 64px); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    .mobile-copy-code {
        background: var(--button-background-color);
        color: var(--button-text-color);
        border: none;
        padding: 6px;
        border-radius: 6px;
        cursor: pointer;
        flex: 0 0 48px; /* reserve a fixed smaller width for the button */
        min-width: 48px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
    }
    .mobile-copy-code:active { transform: translateY(1px); }
    /* ensure desktop meta copy button stays hidden on mobile to avoid duplicates */
    .item-meta .item-code { display: none; }
    .item-meta .copy-code { display: none; }
}

/* Hide mobile-specific elements on desktop */
@media (min-width: 900px) {
    .mobile-code-row { display: none; }
}

/* Soundeffects-specific: place the copy button inside the card on mobile
   so it doesn't overflow the viewport. Scoped to .soundeffects-page. */
@media (max-width: 899px) {
    .soundeffects-page .item-listing__item {
        position: relative;
        /* make the card full-width but with very small internal padding so it looks compact */
        padding: 6px 56px 6px 6px; /* top/right/bottom/left */
        min-height: 48px;
        box-sizing: border-box;
    }

    /* position actions (copy button) inside the card at top-right */
    .soundeffects-page .item-actions {
        position: absolute;
        top: 8px;
        right: 8px;
        z-index: 2;
    }
    .soundeffects-page .item-actions .copy-btn {
        padding: 6px 8px;
        min-width: 44px;
        font-size: 0.9rem;
    }

    /* Make left column compact: limit its width to ~50% so content appears smaller visually
       while the card itself remains full-bleed. Keep text left-aligned and allow wrapping. */
    .soundeffects-page .item-listing__left {
        max-width: 50%;
        flex: 0 0 50%;
        margin-right: 8px; /* small gap before absolute actions */
        text-align: left;
        overflow: visible;
    }

    /* Ensure main container keeps items stacked correctly */
    .soundeffects-page .item-listing__main { align-items: flex-start; }
}

/* Mobile: small horizontal padding so text isn't flush to the screen edge */
@media (max-width: 480px) {
    .content {
        padding-left: calc(12px + env(safe-area-inset-left, 0px));
        padding-right: calc(12px + env(safe-area-inset-right, 0px));
    }

    /* Ensure item cards retain some inner horizontal padding on very small screens */
    .item-listing__item {
        padding-left: 12px;
        padding-right: 12px;
    }
}

